<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Load Multiple CSV Matrices</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>

<body>
	<h2>Loading CSV Matrices...</h2>

	<script>

		function simulateMarkov(transitionMatrix, initialState, steps) {
				let result = [initialState];

				for (let step = 0; step < steps; step++) {
					const prevState = result[result.length - 1];
					const nextState = [0, 0, 0];

					for (let to = 0; to < 3; to++) {
						for (let from = 0; from < 3; from++) {
							nextState[to] += prevState[from] * transitionMatrix[from][to];
						}
					}

					result.push(nextState);
				}

				return result;
			}

			const transitionMatrix = [
					[0.95, 0.03, 0.02],
					[0.10, 0.80, 0.10],
					[0.09, 0.01, 0.90]
				];

				const initialState = [1000, 0, 0];  // Initial volumes in A, B, C

				const steps = 5;
				const simulationResult = simulateMarkov(transitionMatrix, initialState, steps);

				// Display results
				simulationResult.forEach((state, i) => {
					console.log(`Step ${i}: A=${state[0].toFixed(2)}, B=${state[1].toFixed(2)}, C=${state[2].toFixed(2)}`);
				});
		  
		  


	</script>
</body>

</html>